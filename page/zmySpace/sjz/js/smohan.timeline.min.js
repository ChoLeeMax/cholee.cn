/**
 * SmohanTimeLine
 * URL: http://www.smohan.net/lab/smohan_timeline.html
 * Author : Smohan
 * Version : 1.0
 * 使用请保留以上信息，谢谢支持，作者官网：http://www.smohan.net
 */
!function(a){a.fn.smohanTimeline=function(b){var c={item:".item",top:20,pointWidth:22,cornerWidth:22,scroll:!0},d=a.extend(c,b),e=a(this).eq(0);e.css("position","relative");var f=e.find(d.item);f.css({position:"absolute",margin:0,overflow:"visible",transition:"none"});var g=[],h=e.width(),i=f.eq(0).outerHeight(),j=f.eq(0).outerWidth(),l=d.top,m=h-2*j,n=(h-d.pointWidth)/2;a(e).append('<div class="lines"></div>');var o=a(e).find(".lines").outerWidth()||0,p=(h-o)/2;e.find(".lines").css("left",p).animate({height:"100%"},{queue:!1,duration:2e3}),this.getminIndex=function(a,b){for(k in a)if(a[k]==b)return k};for(var q=0;q<f.length;q++){var r=f.eq(q).outerHeight();2>q?(g[q]=r,f.eq(q).css({top:0,left:q*j})):(i=Math.min.apply(Math,g),minKey=this.getminIndex(g,i),g[minKey]+=r+l,f.eq(q).css({top:i+l,left:minKey*j})),maxH=Math.max.apply(Math,g),maxKey=this.getminIndex(g,maxH),e.css("height",g[maxKey]+20)}if(a.each(f,function(b,c){var e=a(c).css("left");a(c).append('<span class="point"></span>');var f="-"+d.cornerWidth+"px";"0px"==e||0==e?(a(c).find(".point").css({top:"36px",left:n}),a(c).find("span.top").css("left",0),a(c).append('<span class="cornerL" style="right:'+f+';top:26px"></span>')):(a(c).css("margin-left",m),a(c).find("span.top").css("right",0),a(c).find(".point").css({top:"46px",right:n}),a(c).append('<span class="cornerR" style="left:'+f+';top:40px"></span>'))}),d.scroll){var s=a("body").height();f.find(".point").click(function(){var c=a(this).offset().top,d=0;d=c>=460?0:s,a("html,body").animate({scrollTop:d},660)})}}}(jQuery);